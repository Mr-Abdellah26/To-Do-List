<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>TO DO List</title>
  <link rel="stylesheet" href="styles.css"/>
  <!-- Material Icons -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="icon" type="image/svg+xml" href="/favicon-todo.svg">
</head>
<body>
  <header id="main-header" style="background:#1976d2;color:#fff;box-shadow:0 2px 8px #0001;transition:all 0.2s;display:flex;align-items:center;justify-content:space-between;padding:18px 24px 12px 24px;">
    <div style="display:flex;align-items:center;gap:10px;">
      <img src="/favicon-todo.svg" alt="TO DO List Logo" style="width:44px;height:44px;vertical-align:middle;box-shadow:0 2px 8px #0002;border-radius:50%;background:#fff;">
      <span id="project-title" style="font-size:1.7em;font-weight:bold;letter-spacing:1.5px;font-family:inherit;">TO DO List</span>
    </div>
    <div class="header-actions" style="display:flex;align-items:center;gap:14px;">
      <div class="lang-switcher-bar">
        <button id="lang-switcher-btn" class="export-btn">
          <span id="lang-flag" style="font-size:1.3em;">๐ฆ</span>
          <span id="lang-switcher-label">ุงูุนุฑุจูุฉ</span>
          <span class="material-icons">language</span>
        </button>
        <div id="lang-switcher-menu" class="lang-switcher-menu" style="display:none;position:absolute;left:0;top:40px;background:#fff;border-radius:10px;box-shadow:0 2px 12px #0001;padding:6px 0;min-width:120px;">
          <div class="lang-switcher-item" data-lang="ar" style="padding:7px 18px;cursor:pointer;">ุงูุนุฑุจูุฉ ๐ธ๐ฆ</div>
          <div class="lang-switcher-item" data-lang="en" style="padding:7px 18px;cursor:pointer;">English ๐บ๐ธ</div>
        </div>
      </div>
      <button id="toggle-dark-mode-btn" title="ุชุจุฏูู ุงููุถุน ุงููููู/ุงูููุงุฑู"><span class="material-icons" id="dark-mode-icon">dark_mode</span></button>
      <button id="notif-bell" class="notif-bell" title="ุงูุฅุดุนุงุฑุงุช"><span class="material-icons">notifications</span><span id="notif-badge" class="notif-badge" style="display:none;">0</span></button>
      <div class="user-auth">
        <span id="user-name"></span>
        <button id="login-email" title="ุชุณุฌูู ุงูุฏุฎูู ุฃู ุฅูุดุงุก ุญุณุงุจ"><span class="material-icons">mail</span> ุชุณุฌูู ุงูุฏุฎูู / ุฅูุดุงุก ุญุณุงุจ</button>
        <button id="logout" title="ุชุณุฌูู ุงูุฎุฑูุฌ" style="display:none;"><span class="material-icons">logout</span></button>
      </div>
    </div>
  </header>
  <div class="container">
    <header style="display:none;"></header>
    <div class="lang-switcher-bar" style="position:absolute;left:18px;top:18px;z-index:20;">
      <button id="lang-switcher-btn" class="export-btn" style="padding:6px 18px;font-size:1em;display:flex;align-items:center;gap:7px;">
        <span id="lang-flag" style="font-size:1.3em;">๐ฆ</span>
        <span id="lang-switcher-label">ุงูุนุฑุจูุฉ</span>
        <span class="material-icons">language</span>
      </button>
      <div id="lang-switcher-menu" class="lang-switcher-menu" style="display:none;position:absolute;left:0;top:40px;background:#fff;border-radius:10px;box-shadow:0 2px 12px #0001;padding:6px 0;min-width:120px;">
        <div class="lang-switcher-item" data-lang="ar" style="padding:7px 18px;cursor:pointer;">ุงูุนุฑุจูุฉ ๐ธ๐ฆ</div>
        <div class="lang-switcher-item" data-lang="en" style="padding:7px 18px;cursor:pointer;">English ๐บ๐ธ</div>
      </div>
    </div>
    <div class="search-bar">
      <span class="material-icons">search</span>
      <input type="text" id="task-search" placeholder="ุงุจุญุซ ูู ุงูููุงู (ุงูุนููุงูุ ุงููุฆุฉุ ุงูุชุงุฑูุฎ)..." autocomplete="off" />
      <input type="date" id="search-date-from" title="ูู ุชุงุฑูุฎ" />
      <input type="date" id="search-date-to" title="ุฅูู ุชุงุฑูุฎ" />
      <button id="clear-search" type="button" title="ูุณุญ ุงูุจุญุซ"><span class="material-icons">close</span> <span data-i18n="cancel">ุฅูุบุงุก</span></button>
    </div>
    <div class="color-filter-bar" id="color-filter-bar" style="display:flex;gap:8px;margin-bottom:10px;"></div>
    <div class="priority-filter-bar" id="priority-filter-bar" style="display:flex;gap:8px;margin-bottom:10px;"></div>
    <form id="task-form">
      <input type="text" id="task-input" placeholder="ุฃุถู ูููุฉ ุฌุฏูุฏุฉ..." required data-i18n-placeholder="add_task" />
      <select id="task-category" required>
        <option value="">ุงุฎุชุฑ ุงููุฆุฉ</option>
        <option value="ุนูู">ุนูู</option>
        <option value="ุฏุฑุงุณุฉ">ุฏุฑุงุณุฉ</option>
        <option value="ุชุณูู">ุชุณูู</option>
        <option value="ุณูุฑ">ุณูุฑ</option>
        <option value="ุตุญุฉ">ุตุญุฉ</option>
        <option value="ุดุฎุตูุฉ">ุดุฎุตูุฉ</option>
        <option value="ุฃุฎุฑู">ุฃุฎุฑู</option>
      </select>
      <div class="form-group">
        <label for="calendar-type" data-i18n="language">ููุน ุงูุชูููู</label>
        <select id="calendar-type" class="form-control" style="max-width:120px;">
          <option value="gregorian">ูููุงุฏู</option>
          <option value="hijri">ูุฌุฑู</option>
        </select>
      </div>
      <div class="form-group" id="gregorian-date-group">
        <label for="task-due-date" data-i18n="due_date">ุชุงุฑูุฎ ูููุช ุงููููุฉ</label>
        <input type="datetime-local" id="task-due-date" name="dueDate" class="form-control" style="direction:ltr;max-width:220px;">
        <small id="due-date-hint" style="display:block;color:#888;margin-top:2px;"></small>
      </div>
      <div class="form-group" id="hijri-date-group" style="display:none;">
        <label for="task-due-date-hijri" data-i18n="due_date">ุชุงุฑูุฎ ูููุช ุงููููุฉ (ูุฌุฑู)</label>
        <input type="text" id="task-due-date-hijri" class="form-control" style="direction:ltr;max-width:220px;" placeholder="ุงุฎุชุฑ ุงูุชุงุฑูุฎ ุงููุฌุฑู" readonly>
        <small id="due-date-hint-hijri" style="display:block;color:#888;margin-top:2px;"></small>
      </div>
      <div class="form-group">
        <label for="task-color" data-i18n="color">ููู ุงููููุฉ</label>
        <div style="display:flex;align-items:center;gap:8px;">
          <input type="color" id="task-color" name="color" value="#1976d2" style="width:36px;height:36px;border:none;cursor:pointer;">
          <div id="color-suggestions" style="display:flex;gap:4px;"></div>
        </div>
      </div>
      <button type="submit" title="ุฅุถุงูุฉ ูููุฉ"><span class="material-icons">add</span> <span data-i18n="add_task">ุฅุถุงูุฉ ูููุฉ</span></button>
    </form>
    <div class="category-filters">
      <button data-category="all" class="active">ุงููู</button>
      <button data-category="ุนูู">ุนูู</button>
      <button data-category="ุฏุฑุงุณุฉ">ุฏุฑุงุณุฉ</button>
      <button data-category="ุชุณูู">ุชุณูู</button>
      <button data-category="ุณูุฑ">ุณูุฑ</button>
      <button data-category="ุตุญุฉ">ุตุญุฉ</button>
      <button data-category="ุดุฎุตูุฉ">ุดุฎุตูุฉ</button>
      <button data-category="ุฃุฎุฑู">ุฃุฎุฑู</button>
    </div>
    <div class="filters">
      <button data-filter="all" class="active">ุงููู</button>
      <button data-filter="active">ุบูุฑ ููุชููุฉ</button>
      <button data-filter="completed">ููุชููุฉ</button>
    </div>
    <div class="tags-filter-bar" id="tags-filter-bar"></div>
    <div class="export-import-bar">
      <button id="export-csv-btn" class="export-btn"><span class="material-icons">download</span> <span data-i18n="export">ุชุตุฏูุฑ</span> CSV</button>
      <button id="import-csv-btn" class="import-btn"><span class="material-icons">upload</span> <span data-i18n="import">ุงุณุชูุฑุงุฏ</span> CSV</button>
    </div>
    <div class="calendar-toggle-bar" style="text-align:left;margin-bottom:8px;">
      <button id="toggle-calendar-view" class="export-btn" style="padding:4px 14px;font-size:0.97em;">ุนุฑุถ ุงูุชุงุฑูุฎ: ูููุงุฏู</button>
    </div>
    <ul id="task-list"></ul>
  </div>
  <div id="auth-modal" class="modal" style="display:none;">
    <div class="modal-content">
      <h2>ุชุณุฌูู ุงูุฏุฎูู / ุฅูุดุงุก ุญุณุงุจ</h2>
      <form id="auth-form">
        <input type="email" id="auth-email" placeholder="ุงูุจุฑูุฏ ุงูุฅููุชุฑููู" required />
        <input type="password" id="auth-password" placeholder="ูููุฉ ุงููุฑูุฑ" required />
        <button type="submit">ุฏุฎูู</button>
        <div id="auth-error" class="auth-error"></div>
      </form>
      <button id="close-auth-modal" class="close-modal"><span class="material-icons">close</span></button>
    </div>
  </div>
  <div id="welcome-banner" class="welcome-banner" style="display:none;">
    <span id="welcome-text"></span>
    <button id="close-welcome" class="close-welcome" title="ุฅุบูุงู"><span class="material-icons">close</span></button>
  </div>
  <div class="dashboard">
    <div style="display:flex;align-items:center;justify-content:space-between;gap:8px;">
      <div class="stats-cards">
        <div class="stat-card">
          <span class="material-icons">list_alt</span>
          <div>
            <div id="stat-total" class="stat-number">0</div>
            <div class="stat-label">ุฅุฌูุงูู ุงูููุงู</div>
          </div>
        </div>
        <div class="stat-card">
          <span class="material-icons">check_circle</span>
          <div>
            <div id="stat-done" class="stat-number">0</div>
            <div class="stat-label">ุงูููุงู ุงูููุฌุฒุฉ</div>
          </div>
        </div>
        <div class="stat-card">
          <span class="material-icons">pending_actions</span>
          <div>
            <div id="stat-left" class="stat-number">0</div>
            <div class="stat-label">ุงูููุงู ุงููุชุจููุฉ</div>
          </div>
        </div>
        <div class="stat-card">
          <span class="material-icons">star</span>
          <div>
            <div id="stat-bestday" class="stat-number">-</div>
            <div class="stat-label">ุฃูุถู ููู ุฅูุชุงุฌูุฉ</div>
          </div>
        </div>
      </div>
      <button id="share-all-btn" class="share-all-btn" title="ูุดุงุฑูุฉ ุฌููุน ุงูููุงู"><span class="material-icons">share</span> ูุดุงุฑูุฉ ุงููุงุฆูุฉ</button>
    </div>
    <div class="stats-chart">
      <canvas id="tasks-chart" height="120"></canvas>
      <div style="margin-top:18px;">
        <canvas id="category-pie" height="120"></canvas>
      </div>
    </div>
  </div>
  <div id="share-modal" class="modal" style="display:none;">
    <div class="modal-content">
      <h2>ูุดุงุฑูุฉ ุงููููุฉ</h2>
      <form id="share-form">
        <input type="email" id="share-email" placeholder="ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูููุณุชุฎุฏู" required />
        <button type="submit">ูุดุงุฑูุฉ</button>
        <div id="share-error" class="auth-error"></div>
      </form>
      <div id="shared-users-list" class="shared-users-list"></div>
      <button id="close-share-modal" class="close-modal"><span class="material-icons">close</span></button>
    </div>
  </div>
  <button id="fab-add-task" class="fab-add-task" title="ุฅุถุงูุฉ ูููุฉ ุฌุฏูุฏุฉ"><span class="material-icons">add</span></button>
  <div id="add-task-modal" class="modal" style="display:none;">
    <div class="modal-content">
      <h2>ุฅุถุงูุฉ ูููุฉ ุฌุฏูุฏุฉ</h2>
      <form id="add-task-form">
        <input type="text" id="add-task-input" placeholder="ุนููุงู ุงููููุฉ" required />
        <div class="input-helper">
          <span id="add-task-charcount">0/60</span>
          <span class="input-hint">ุงูุชุจ ุนููุงููุง ูุงุถุญูุง ูููููุฉ</span>
        </div>
        <div id="auto-suggested-tag" style="margin:6px 0 0 0;color:#1976d2;font-size:0.97em;"></div>
        <div id="add-task-suggestions" class="add-task-suggestions"></div>
        <input type="text" id="add-task-tags" placeholder="ุฃุถู ูุณูู (ูุซุงู: urgent, ูุดุฑูุน, ูุฑุงุกุฉ)" autocomplete="off" />
        <div id="add-task-tags-list" class="tags-list"></div>
        <select id="add-task-category" required>
          <option value="">ุงุฎุชุฑ ุงููุฆุฉ</option>
          <option value="ุนูู">ุนูู</option>
          <option value="ุฏุฑุงุณุฉ">ุฏุฑุงุณุฉ</option>
          <option value="ุชุณูู">ุชุณูู</option>
          <option value="ุณูุฑ">ุณูุฑ</option>
          <option value="ุตุญุฉ">ุตุญุฉ</option>
          <option value="ุดุฎุตูุฉ">ุดุฎุตูุฉ</option>
          <option value="ุฃุฎุฑู">ุฃุฎุฑู</option>
        </select>
        <div class="form-group">
          <label for="calendar-type" data-i18n="language">ููุน ุงูุชูููู</label>
          <select id="calendar-type" class="form-control" style="max-width:120px;">
            <option value="gregorian">ูููุงุฏู</option>
            <option value="hijri">ูุฌุฑู</option>
          </select>
        </div>
        <div class="form-group" id="gregorian-date-group">
          <label for="task-due-date" data-i18n="due_date">ุชุงุฑูุฎ ูููุช ุงููููุฉ</label>
          <input type="datetime-local" id="task-due-date" name="dueDate" class="form-control" style="direction:ltr;max-width:220px;">
          <small id="due-date-hint" style="display:block;color:#888;margin-top:2px;"></small>
        </div>
        <div class="form-group" id="hijri-date-group" style="display:none;">
          <label for="task-due-date-hijri">ุชุงุฑูุฎ ูููุช ุงููููุฉ (ูุฌุฑู)</label>
          <input type="text" id="task-due-date-hijri" class="form-control" style="direction:ltr;max-width:220px;" placeholder="ุงุฎุชุฑ ุงูุชุงุฑูุฎ ุงููุฌุฑู" readonly>
          <small id="due-date-hint-hijri" style="display:block;color:#888;margin-top:2px;"></small>
        </div>
        <div class="form-group">
          <label for="task-color">ููู ุงููููุฉ</label>
          <div style="display:flex;align-items:center;gap:8px;">
            <input type="color" id="task-color" name="color" value="#1976d2" style="width:36px;height:36px;border:none;cursor:pointer;">
            <div id="color-suggestions" style="display:flex;gap:4px;"></div>
          </div>
        </div>
        <div class="form-group">
          <label for="task-repeat">ุชูุฑุงุฑ ุงููููุฉ</label>
          <select id="task-repeat" name="repeat" class="form-control" style="max-width:140px;">
            <option value="none">ูุง ููุฌุฏ</option>
            <option value="daily">ูููููุง</option>
            <option value="weekly">ุฃุณุจูุนููุง</option>
            <option value="monthly">ุดูุฑููุง</option>
            <option value="custom">ูุฎุตุต...</option>
          </select>
        </div>
        <button type="submit">ุฅุถุงูุฉ</button>
        <div id="add-task-error" class="auth-error"></div>
      </form>
      <button id="close-add-task-modal" class="close-modal"><span class="material-icons">close</span></button>
    </div>
  </div>
  <div id="add-task-toast" class="add-task-toast" style="display:none;">ุชูุช ุฅุถุงูุฉ ุงููููุฉ ุจูุฌุงุญ!</div>
  <div id="delete-modal" class="modal" style="display:none;">
    <div class="modal-content" style="max-width:340px;text-align:center;">
      <span class="material-icons" style="font-size:2.5rem;color:#e53935;margin-bottom:8px;">delete_forever</span>
      <h2 style="margin:0 0 10px 0;">ุชุฃููุฏ ุญุฐู ุงููููุฉ</h2>
      <div id="delete-modal-title" style="color:#888;margin-bottom:18px;font-size:1.05rem;"></div>
      <button id="confirm-delete-btn" class="delete-btn" style="margin:0 8px 0 0;">ุญุฐู</button>
      <button id="cancel-delete-btn" style="background:#eee;color:#222;border:none;border-radius:12px;padding:8px 18px;cursor:pointer;">ุฅูุบุงุก</button>
    </div>
  </div>
  <div id="export-modal" class="modal" style="display:none;">
    <div class="modal-content" style="max-width:340px;text-align:center;">
      <h2 style="margin:0 0 10px 0;">ุชุตุฏูุฑ ุงูููุงู</h2>
      <div style="margin-bottom:10px;">
        <label><input type="radio" name="export-type" value="csv" checked> CSV</label>
        <label style="margin-right:18px;"><input type="radio" name="export-type" value="pdf"> PDF</label>
        <label style="margin-right:18px;"><input type="radio" name="export-type" value="xlsx"> Excel</label>
      </div>
      <div style="margin-bottom:10px;">
        <label><input type="radio" name="export-scope" value="all" checked> ุฌููุน ุงูููุงู</label>
        <label style="margin-right:18px;"><input type="radio" name="export-scope" value="filtered"> ุงููุนุฑูุถุฉ ููุท</label>
      </div>
      <button id="confirm-export-btn" style="background:#1976d2;color:#fff;border:none;border-radius:12px;padding:8px 18px;cursor:pointer;">ุชุตุฏูุฑ</button>
      <button id="cancel-export-btn" style="background:#eee;color:#222;border:none;border-radius:12px;padding:8px 18px;cursor:pointer;">ุฅูุบุงุก</button>
    </div>
  </div>
  <div id="import-modal" class="modal" style="display:none;">
    <div class="modal-content" style="max-width:420px;text-align:center;">
      <h2 style="margin:0 0 10px 0;">ุงุณุชูุฑุงุฏ ููุงู ูู ููู</h2>
      <input type="file" id="import-file-input" accept=".csv, .xlsx, .xls" />
      <div id="import-preview" style="margin:12px 0 8px 0;font-size:0.97rem;max-height:180px;overflow:auto;text-align:right;"></div>
      <div id="import-merge-options" style="margin:10px 0 8px 0;display:none;">
        <label><input type="radio" name="import-merge" value="all" checked> ุงุณุชูุฑุงุฏ ุงููู (ูุน ุงูููุฑุฑุฉ)</label><br>
        <label><input type="radio" name="import-merge" value="new"> ุงุณุชูุฑุงุฏ ุงูุฌุฏูุฏุฉ ููุท</label><br>
        <label><input type="radio" name="import-merge" value="update"> ุชุญุฏูุซ ุงูููุงู ุงูููุฑุฑุฉ</label>
      </div>
      <button id="confirm-import-btn" style="background:#43a047;color:#fff;border:none;border-radius:12px;padding:8px 18px;cursor:pointer;">ุงุณุชูุฑุงุฏ</button>
      <button id="cancel-import-btn" style="background:#eee;color:#222;border:none;border-radius:12px;padding:8px 18px;cursor:pointer;">ุฅูุบุงุก</button>
      <div id="import-error" class="auth-error"></div>
    </div>
  </div>
  <div class="notif-inbox" id="notif-inbox" style="display:none;">
    <div class="notif-inbox-header">
      <span data-i18n="reminder">ุงูุชุฐููุฑุงุช</span>
      <button id="notif-inbox-close" title="ุฅุบูุงู"><span class="material-icons">close</span></button>
    </div>
    <div class="notif-inbox-filter-bar" id="notif-inbox-filter-bar" style="display:flex;gap:7px;padding:7px 18px 0 18px;"></div>
    <div id="notif-inbox-list" class="notif-inbox-list"></div>
    <div class="notif-inbox-footer">
      <button id="notif-mark-all" class="export-btn" style="padding:4px 14px;font-size:0.97em;" data-i18n="confirm">ุชุนููู ุงููู ูููุฑูุก</button>
      <button id="notif-clear-all" class="import-btn" style="padding:4px 14px;font-size:0.97em;" data-i18n="delete">ุญุฐู ุงููู</button>
    </div>
  </div>
  <div id="task-details-modal" class="modal" style="display:none;">
    <div class="modal-content" style="max-width:420px;">
      <div id="task-details-header" style="display:flex;align-items:center;justify-content:space-between;">
        <span id="task-details-title" style="font-size:1.15em;font-weight:bold;"></span>
        <button id="task-details-close" style="background:none;border:none;font-size:1.3em;cursor:pointer;"><span class="material-icons">close</span></button>
      </div>
      <div id="task-details-meta" style="color:#888;font-size:0.97em;margin-bottom:8px;"></div>
      <div id="attachments-section" style="margin:10px 0 14px 0;">
        <div style="font-weight:bold;margin-bottom:6px;">ุงููุฑููุงุช</div>
        <input type="file" id="attachment-input" multiple style="margin-bottom:8px;">
        <div id="attachments-list" style="display:flex;flex-wrap:wrap;gap:10px;"></div>
      </div>
      <div id="subtasks-section">
        <div style="font-weight:bold;margin:10px 0 6px 0;">ุงูููุงู ุงููุฑุนูุฉ</div>
        <ul id="subtasks-list" style="list-style:none;padding:0;margin:0 0 8px 0;"></ul>
        <form id="add-subtask-form" style="display:flex;gap:6px;align-items:center;">
          <input type="text" id="add-subtask-title" placeholder="ุนููุงู ุงููููุฉ ุงููุฑุนูุฉ" required style="flex:1;">
          <select id="add-subtask-priority" style="border-radius:8px;padding:3px 7px;">
            <option value="normal">ุนุงุฏูุฉ</option>
            <option value="high">ุนุงุฌูุฉ</option>
            <option value="low">ููุฎูุถุฉ</option>
          </select>
          <button type="submit" style="background:#1976d2;color:#fff;border:none;border-radius:8px;padding:6px 12px;">ุฅุถุงูุฉ</button>
        </form>
      </div>
    </div>
  </div>
  <!-- ุฒุฑ ุฑุจุท ูุน Google Calendar -->
  <div id="calendar-integration" style="text-align:center;margin:16px 0;">
    <button id="google-calendar-btn" style="background:#fff;color:#444;border:1px solid #ccc;padding:8px 20px;border-radius:24px;display:flex;align-items:center;gap:8px;cursor:pointer;font-size:16px;box-shadow:0 2px 8px #0001;">
      <img src="https://www.gstatic.com/images/branding/product/1x/calendar_2020q4_48dp.png" alt="Google Calendar" style="width:24px;height:24px;vertical-align:middle;">
      <span>ุฑุจุท ูุน Google Calendar</span>
    </button>
  </div>
  <!-- ููุงูุฉ ุฒุฑ ุฑุจุท ูุน Google Calendar -->
  <!-- ุฒุฑ ุฅุญุตุงุฆูุงุช ุงูุฅูุชุงุฌูุฉ -->
  <button id="productivity-stats-btn" style="position:fixed;bottom:24px;left:24px;z-index:1000;background:#fff;color:#1976d2;border:1px solid #1976d2;padding:10px 22px;border-radius:24px;box-shadow:0 2px 8px #0001;cursor:pointer;font-size:16px;display:flex;align-items:center;gap:8px;">
    <img src="https://www.gstatic.com/images/branding/product/1x/calendar_2020q4_48dp.png" alt="Google Calendar" style="width:24px;height:24px;vertical-align:middle;">
    <span>ุฑุจุท ูุน Google Calendar</span>
  </button>
  <!-- ูุงูุฐุฉ ุฅุญุตุงุฆูุงุช ุงูุฅูุชุงุฌูุฉ -->
  <div id="productivity-stats-modal" class="modal" style="display:none;z-index:2000;">
    <div class="modal-content" style="max-width:420px;text-align:center;">
      <h2 style="margin-bottom:12px;">ุฅุญุตุงุฆูุงุช ุงูุฅูุชุงุฌูุฉ</h2>
      <div id="productivity-stats-content" style="min-height:120px;"></div>
      <div style="margin:18px 0 8px 0;"><canvas id="stats-bar-chart" width="340" height="180"></canvas></div>
      <div style="margin:18px 0 8px 0;"><canvas id="stats-pie-chart" width="260" height="180"></canvas></div>
      <div style="margin:18px 0 8px 0;"><canvas id="stats-line-chart" width="340" height="180"></canvas></div>
      <div id="stats-smart-tip" style="color:#1976d2;font-size:1.05em;margin-bottom:8px;"></div>
      <button id="close-productivity-stats" class="close-modal" style="margin-top:18px;"><span class="material-icons">close</span></button>
    </div>
  </div>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
  <script src="app.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</body>
</html> 